"use strict";(self.webpackChunkbjj_app=self.webpackChunkbjj_app||[]).push([[500],{500:(dt,v,u)=>{u.r(v),u.d(v,{ClassesModule:()=>lt});var d=u(6814),c=u(6223),l=u(4581),Z=u(8525),h=u(2032),q=u(5986),_=u(9157),T=u(324),t=u(5879),b=u(7398),N=u(9862);let g=(()=>{class o{constructor(e){this.http=e,this.apiUrl="https://bjj-app.onrender.com/api/programs"}get token(){return localStorage.getItem("id_token")||""}get headers(){return{headers:{Authorization:this.token}}}createProgram(e){return this.http.post(`${this.apiUrl}`,e,this.headers)}getPrograms(){return this.http.get(`${this.apiUrl}`,this.headers)}getProgramById(e){return this.http.get(`${this.apiUrl}/${e}`,this.headers).pipe((0,b.U)(r=>r.program))}updateProgram(e,r){return this.http.put(`${this.apiUrl}/${e}`,r,this.headers)}deleteProgram(e){return this.http.delete(`${this.apiUrl}/${e}`,this.headers)}static#t=this.\u0275fac=function(r){return new(r||o)(t.LFG(N.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var x=u(6472),k=u(127),A=u(684);const w=function(o){return[o]};function U(o,s){if(1&o&&(t.TgZ(0,"li",10)(1,"div",11)(2,"div",12),t._uU(3),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.qZA(),t.TgZ(6,"div",14),t._uU(7),t.ALo(8,"truncateWords"),t.qZA(),t.TgZ(9,"div",15),t._uU(10),t.qZA(),t.TgZ(11,"div",13),t._uU(12),t.ALo(13,"formatDate"),t.qZA()()()),2&o){const e=s.$implicit,r=s.index,n=t.oxw(2);t.Q6J("routerLink",t.VKq(10,w,"./class/"+e._id)),t.xp6(3),t.Oqu(15*(n.page-1)+r+1),t.xp6(2),t.Oqu(e.programName),t.xp6(2),t.Oqu(t.lcZ(8,6,e.description)),t.xp6(3),t.Oqu(e.user),t.xp6(2),t.Oqu(t.lcZ(13,8,e.date))}}function I(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"pagination-controls",18),t.NdJ("pageChange",function(n){t.CHM(e);const i=t.oxw(3);return t.KtG(i.page=n)}),t.qZA()}}function y(o,s){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,I,1,0,"pagination-controls",17),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0!=e.total)}}const F=function(o,s){return{itemsPerPage:15,currentPage:o,totalItems:s}};function M(o,s){if(1&o&&(t.TgZ(0,"section",6)(1,"ul",7),t.YNc(2,U,14,12,"li",8),t.ALo(3,"paginate"),t.qZA(),t.YNc(4,y,2,1,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,2,e.programs,t.WLB(5,F,e.page,e.total))),t.xp6(2),t.Q6J("ngIf",e.programs)}}let P=(()=>{class o{constructor(e){this.programService=e,this.error=null,this.displayedColumns=["position","name","weight","symbol"],this.programs=[],this.creator="",this.total=0,this.page=1}ngOnInit(){this.fetchPrograms()}fetchPrograms(){this.programService.getPrograms().subscribe({next:e=>{e.ok?(this.programs=e.programs,this.total=this.programs.length):this.error="No se pudieron cargar los programas"},error:e=>{console.error("Error al cargar los programas",e),this.error="Error al cargar los programas"}})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-classes"]],decls:9,vars:1,consts:[[1,"admin-container"],[1,"admin-top-menu"],[1,"admin-top-menu-logo"],[1,"admin-top-menu-buttons"],["routerLink","./new-class/",1,"button"],["class","table-container",4,"ngIf"],[1,"table-container"],[1,"table-list"],[3,"routerLink",4,"ngFor","ngForOf"],["class","p-controls",4,"ngIf"],[3,"routerLink"],[1,"item-box"],[1,"item-index-number","item-xsmall"],[1,"items","item-medium"],[1,"items","item-large"],[1,"items","item-small"],[1,"p-controls"],[3,"pageChange",4,"ngIf"],[3,"pageChange"]],template:function(r,n){1&r&&(t.TgZ(0,"section",0)(1,"section",1)(2,"div",2)(3,"h2"),t._uU(4,"Flow305 Classes"),t.qZA()(),t.TgZ(5,"div",3)(6,"button",4),t._uU(7,"New Class"),t.qZA()()(),t.YNc(8,M,5,8,"section",5),t.qZA()),2&r&&(t.xp6(8),t.Q6J("ngIf",n.programs))},dependencies:[d.sg,d.O5,l.rH,x.LS,x._s,k.i,A.d]})}return o})();function J(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",7)(2,"mat-label"),t._uU(3,"Drill "),t.qZA(),t._UZ(4,"input",39),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw().index,p=t.oxw();return t.KtG(p.removeDrill(m,a,i))}),t._UZ(6,"i",31),t.qZA()()()}2&o&&t.Q6J("formGroupName",s.index)}function O(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",7)(2,"mat-label"),t._uU(3,"Group Name "),t.qZA(),t._UZ(4,"input",35),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw();return t.KtG(m.removeCurriculum(a,i))}),t._UZ(6,"i",31),t.qZA()(),t.TgZ(7,"div",36),t.YNc(8,J,7,1,"div",37),t.TgZ(9,"button",18),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw();return t.KtG(m.addDrill(a,i))}),t._uU(10,"Add Drill"),t.qZA()()()}if(2&o){const e=s.index,r=t.oxw().index,n=t.oxw();t.Q6J("formGroupName",e),t.xp6(8),t.Q6J("ngForOf",n.drills(r,e).controls)}}function G(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"mat-form-field")(3,"mat-label"),t._uU(4,"Week Name"),t.qZA(),t._UZ(5,"input",29),t.qZA(),t.TgZ(6,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeWeek(i))}),t._UZ(7,"i",31),t.qZA()(),t.TgZ(8,"div",32),t.YNc(9,O,11,2,"div",33),t.TgZ(10,"button",18),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.addCurriculum(i))}),t._uU(11,"Add drills"),t.qZA()()()}if(2&o){const e=s.index,r=t.oxw();t.Q6J("formGroupName",e),t.xp6(9),t.Q6J("ngForOf",r.curriculum(e).controls)}}function B(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"label",42),t._uU(3),t.qZA(),t._UZ(4,"input",43),t.TgZ(5,"button",44),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeMainConcept(i))}),t._UZ(6,"i",31),t.qZA()()()}if(2&o){const e=s.index;t.xp6(2),t.MGl("for","conceptName",e,""),t.xp6(1),t.hij("Concept ",e+1,":"),t.xp6(1),t.MGl("id","conceptName",e,""),t.Q6J("formControlName",e)}}function Q(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"label",42),t._uU(3),t.qZA(),t._UZ(4,"input",43),t.TgZ(5,"button",44),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeMainPosition(i))}),t._UZ(6,"i",31),t.qZA()()()}if(2&o){const e=s.index;t.xp6(2),t.MGl("for","positionName",e,""),t.xp6(1),t.hij("Position ",e+1,":"),t.xp6(1),t.MGl("id","positionName",e,""),t.Q6J("formControlName",e)}}function Y(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",7)(2,"mat-label"),t._uU(3,"Technique"),t.qZA(),t._UZ(4,"input",46),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw();return t.KtG(m.removeTechniqueItem(a,i))}),t._UZ(6,"i",31),t.qZA()()()}2&o&&t.Q6J("formGroupName",s.index)}function E(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"mat-label"),t._uU(3,"Technique Group"),t.qZA(),t._UZ(4,"input",35),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeTechnique(i))}),t._UZ(6,"i",31),t.qZA()(),t.TgZ(7,"div",45),t.YNc(8,Y,7,1,"div",33),t.TgZ(9,"button",18),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.addTechniqueItem(i))}),t._uU(10,"Add Technique"),t.qZA()()()}if(2&o){const e=s.index,r=t.oxw();t.Q6J("formGroupName",e),t.xp6(8),t.Q6J("ngForOf",r.techniqueItems(e).controls)}}let S=(()=>{class o{constructor(e,r,n){this.formBuilder=e,this.programService=r,this.router=n,this.programForm=this.formBuilder.group({programName:["",c.kI.required],description:["",c.kI.required],weeks:this.formBuilder.array([]),mainConcepts:this.formBuilder.array([]),mainPositions:this.formBuilder.array([]),techniques:this.formBuilder.array([]),user:["",c.kI.required]})}get weeks(){return this.programForm.get("weeks")}addWeek(){const e=this.formBuilder.group({weekName:["",c.kI.required],curriculum:this.formBuilder.array([])});this.weeks.push(e)}removeWeek(e){this.weeks.removeAt(e)}curriculum(e){return this.weeks.at(e).get("curriculum")}addCurriculum(e){const r=this.formBuilder.group({groupName:["",c.kI.required],drills:this.formBuilder.array([])});this.curriculum(e).push(r)}removeCurriculum(e,r){this.curriculum(e).removeAt(r)}drills(e,r){return this.curriculum(e).at(r).get("drills")}addDrill(e,r){const n=this.formBuilder.group({drill:["",c.kI.required]});this.drills(e,r).push(n)}removeDrill(e,r,n){this.drills(e,r).removeAt(n)}get mainConcepts(){return this.programForm.get("mainConcepts")}addMainConcept(){const e=this.formBuilder.control("",c.kI.required);this.mainConcepts.push(e)}removeMainConcept(e){this.mainConcepts.removeAt(e)}get mainPositions(){return this.programForm.get("mainPositions")}addMainPosition(){const e=this.formBuilder.control("",c.kI.required);this.mainPositions.push(e)}removeMainPosition(e){this.mainPositions.removeAt(e)}get techniques(){return this.programForm.get("techniques")}addTechnique(){const e=this.formBuilder.group({groupName:["",c.kI.required],techniques:this.formBuilder.array([])});this.techniques.push(e)}removeTechnique(e){this.techniques.removeAt(e)}techniqueItems(e){return this.techniques.at(e).get("techniques")}addTechniqueItem(e){const r=this.formBuilder.group({technique:["",c.kI.required]});this.techniqueItems(e).push(r)}removeTechniqueItem(e,r){this.techniqueItems(e).removeAt(r)}onSubmit(){this.programService.createProgram(this.programForm.value).subscribe(()=>{this.router.navigate(["/admin/dashboard/flow-classes"])},e=>{console.error("Error updating program:",e)})}getback(){this.router.navigate(["/admin/dashboard/flow-classes"])}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(c.qu),t.Y36(g),t.Y36(l.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-new-class"]],decls:50,vars:5,consts:[[1,"admin-container"],[1,"admin-top-menu"],[1,"admin-top-menu-logo"],[1,"admin-top-menu-buttons"],[3,"click"],[1,"new-p-form",3,"formGroup","ngSubmit"],[1,"top-form"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","programName","matInput","",1,"form-control"],["for","description"],["id","description","formControlName","description","required","","matInput","",1,"form-control"],["for","user"],["type","text","id","user","formControlName","user","required","","matInput","",1,"form-control"],[1,"middle-form"],["formArrayName","weeks",1,"main-array"],[1,"items-group-v"],["class","items",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["formArrayName","mainConcepts",1,"second-array"],[1,"items","center-group"],["class","second-array-group",4,"ngFor","ngForOf"],["type","button",1,"add-button",3,"click"],["formArrayName","mainPositions",1,"second-array"],["formArrayName","techniques",1,"main-array"],[1,"bottom-form"],["type","submit"],[1,"items",3,"formGroupName"],[1,"form-group","specific-size"],["matInput","","formControlName","weekName"],["type","button",1,"button-remove",3,"click"],[1,"fa-solid","fa-xmark"],["formArrayName","curriculum",1,"second-array"],["class","second-array-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"second-array-group",3,"formGroupName"],["matInput","","formControlName","groupName"],["formArrayName","drills",1,"third-array"],["class","third-array-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"third-array-group",3,"formGroupName"],["matInput","","formControlName","drill"],[1,"second-array-group"],[1,"form-group","specific-size2"],[3,"for"],["type","text","required","",1,"form-control",3,"id","formControlName"],[1,"button-remove",3,"click"],["formArrayName","techniques",1,"second-array"],["matInput","","formControlName","technique"]],template:function(r,n){1&r&&(t.TgZ(0,"section",0)(1,"section",1)(2,"div",2)(3,"h2"),t._uU(4,"Training program update"),t.qZA()(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.getback()}),t._uU(7,"Back"),t.qZA()()(),t.TgZ(8,"form",5),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"section",6)(10,"mat-form-field",7)(11,"mat-label",8),t._uU(12,"Name:"),t.qZA(),t._UZ(13,"input",9),t.qZA(),t.TgZ(14,"mat-form-field",7)(15,"mat-label",10),t._uU(16,"Description"),t.qZA(),t._UZ(17,"textarea",11),t.qZA(),t.TgZ(18,"mat-form-field",7)(19,"mat-label",12),t._uU(20,"Creator:"),t.qZA(),t._UZ(21,"input",13),t.qZA()(),t.TgZ(22,"section",14)(23,"div")(24,"div",15)(25,"div",16),t.YNc(26,G,12,2,"div",17),t.qZA(),t.TgZ(27,"button",18),t.NdJ("click",function(){return n.addWeek()}),t._uU(28,"Add Week"),t.qZA()()(),t.TgZ(29,"div")(30,"div",19)(31,"div",20),t.YNc(32,B,7,4,"div",21),t.qZA(),t.TgZ(33,"button",22),t.NdJ("click",function(){return n.addMainConcept()}),t._uU(34,"Add Main Concept"),t.qZA()()(),t.TgZ(35,"div")(36,"div",23)(37,"div",20),t.YNc(38,Q,7,4,"div",21),t.qZA(),t.TgZ(39,"button",22),t.NdJ("click",function(){return n.addMainPosition()}),t._uU(40,"Add Main Position"),t.qZA()()(),t.TgZ(41,"div")(42,"div",24)(43,"div",16),t.YNc(44,E,11,2,"div",17),t.qZA(),t.TgZ(45,"button",18),t.NdJ("click",function(){return n.addTechnique()}),t._uU(46,"Add Technique Group"),t.qZA()()()(),t.TgZ(47,"section",25)(48,"button",26),t._uU(49,"Save Changes"),t.qZA()()()()),2&r&&(t.xp6(8),t.Q6J("formGroup",n.programForm),t.xp6(18),t.Q6J("ngForOf",n.weeks.controls),t.xp6(6),t.Q6J("ngForOf",n.mainConcepts.controls),t.xp6(6),t.Q6J("ngForOf",n.mainPositions.controls),t.xp6(6),t.Q6J("ngForOf",n.techniques.controls))},dependencies:[d.sg,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,c.x0,c.CE,h.Nt,_.KE,_.hX]})}return o})();var f=u(7700);let z=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-confirm-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],[1,"mat-typography"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close"]],template:function(r,n){1&r&&(t.TgZ(0,"h2",0),t._uU(1,"Are you sure?"),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"p"),t._uU(4,"You will NOT be able to revert this!"),t.qZA()(),t.TgZ(5,"mat-dialog-actions")(6,"button",2),t._uU(7,"Cancel"),t.qZA(),t.TgZ(8,"button",3),t._uU(9,"Delete it!"),t.qZA()()),2&r&&(t.xp6(8),t.Q6J("mat-dialog-close",!0))},dependencies:[f.ZT,f.uh,f.xY,f.H8]})}return o})();const H=function(o){return[o]};function K(o,s){if(1&o&&(t.TgZ(0,"button",9),t._uU(1,"Update "),t.qZA()),2&o){const e=t.oxw();t.Q6J("routerLink",t.VKq(1,H,"/admin/dashboard/flow-classes/up-class/"+e.program._id))}}function j(o,s){if(1&o&&(t.TgZ(0,"li",31)(1,"p"),t._uU(2),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.drill)}}function L(o,s){if(1&o&&(t.TgZ(0,"li")(1,"div",28),t._uU(2),t.qZA(),t.TgZ(3,"ul",29),t.YNc(4,j,3,1,"li",30),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij("",e.groupName,":"),t.xp6(2),t.Q6J("ngForOf",e.drills)}}function D(o,s){if(1&o&&(t.TgZ(0,"li",25)(1,"div",26),t._uU(2),t.qZA(),t.TgZ(3,"ul",27),t.YNc(4,L,5,2,"li",19),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.weekName),t.xp6(2),t.Q6J("ngForOf",e.curriculum)}}function $(o,s){if(1&o&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij("",e,". ")}}function W(o,s){if(1&o&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij("",e,". ")}}function X(o,s){if(1&o&&(t.TgZ(0,"li",36)(1,"p"),t._uU(2),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.hij("",e.technique,".")}}function R(o,s){if(1&o&&(t.TgZ(0,"li",32)(1,"div",33),t._uU(2),t.qZA(),t.TgZ(3,"ul",34),t.YNc(4,X,3,1,"li",35),t.qZA()()),2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.groupName),t.xp6(2),t.Q6J("ngForOf",e.techniques)}}function V(o,s){if(1&o&&(t.TgZ(0,"div",10)(1,"div",11)(2,"h3"),t._uU(3),t.qZA(),t._UZ(4,"p",12),t.qZA(),t.TgZ(5,"div",13)(6,"ul",14),t.YNc(7,D,5,2,"li",15),t.qZA()(),t.TgZ(8,"div",16)(9,"div",17)(10,"h3"),t._uU(11,"Main Concepts:"),t.qZA(),t.TgZ(12,"div",18),t.YNc(13,$,3,1,"div",19),t.qZA()(),t.TgZ(14,"div",20)(15,"h3"),t._uU(16,"Main Positions:"),t.qZA(),t.TgZ(17,"div",18),t.YNc(18,W,3,1,"div",19),t.qZA()(),t.TgZ(19,"div",21)(20,"h3"),t._uU(21,"Techniques:"),t.qZA(),t.TgZ(22,"ul",22),t.YNc(23,R,5,2,"li",23),t.qZA()()(),t.TgZ(24,"div",24)(25,"p"),t._uU(26,"All the techniques of the program can be taken into account in the event of an evaluation to promote the student to the next level. The professor in charge will determine which ones the student should demonstrate in the exam."),t.qZA()()()),2&o){const e=t.oxw();t.xp6(3),t.AsE("",e.program.programName," | CREATED BY: ",e.program.user,""),t.xp6(1),t.Q6J("innerHTML",e.program.description,t.oJD),t.xp6(3),t.Q6J("ngForOf",e.program.weeks),t.xp6(6),t.Q6J("ngForOf",e.program.mainConcepts),t.xp6(5),t.Q6J("ngForOf",e.program.mainPositions),t.xp6(5),t.Q6J("ngForOf",e.program.techniques)}}function et(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",7)(2,"mat-label"),t._uU(3,"Drill "),t.qZA(),t._UZ(4,"input",39),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw().index,p=t.oxw();return t.KtG(p.removeDrill(m,a,i))}),t._UZ(6,"i",31),t.qZA()()()}2&o&&t.Q6J("formGroupName",s.index)}function ot(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",7)(2,"mat-label"),t._uU(3,"Group Name "),t.qZA(),t._UZ(4,"input",35),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw();return t.KtG(m.removeCurriculum(a,i))}),t._UZ(6,"i",31),t.qZA()(),t.TgZ(7,"div",36),t.YNc(8,et,7,1,"div",37),t.TgZ(9,"button",18),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw();return t.KtG(m.addDrill(a,i))}),t._uU(10,"Add Drill"),t.qZA()()()}if(2&o){const e=s.index,r=t.oxw().index,n=t.oxw();t.Q6J("formGroupName",e),t.xp6(8),t.Q6J("ngForOf",n.drills(r,e).controls)}}function rt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"mat-form-field")(3,"mat-label"),t._uU(4,"Week Name"),t.qZA(),t._UZ(5,"input",29),t.qZA(),t.TgZ(6,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeWeek(i))}),t._UZ(7,"i",31),t.qZA()(),t.TgZ(8,"div",32),t.YNc(9,ot,11,2,"div",33),t.TgZ(10,"button",18),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.addCurriculum(i))}),t._uU(11,"Add drills"),t.qZA()()()}if(2&o){const e=s.index,r=t.oxw();t.Q6J("formGroupName",e),t.xp6(9),t.Q6J("ngForOf",r.curriculum(e).controls)}}function nt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"label",42),t._uU(3),t.qZA(),t._UZ(4,"input",43),t.TgZ(5,"button",44),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeMainConcept(i))}),t._UZ(6,"i",31),t.qZA()()()}if(2&o){const e=s.index;t.xp6(2),t.MGl("for","conceptName",e,""),t.xp6(1),t.hij("Concept ",e+1,":"),t.xp6(1),t.MGl("id","conceptName",e,""),t.Q6J("formControlName",e)}}function it(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"label",42),t._uU(3),t.qZA(),t._UZ(4,"input",43),t.TgZ(5,"button",44),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeMainPosition(i))}),t._UZ(6,"i",31),t.qZA()()()}if(2&o){const e=s.index;t.xp6(2),t.MGl("for","positionName",e,""),t.xp6(1),t.hij("Position ",e+1,":"),t.xp6(1),t.MGl("id","positionName",e,""),t.Q6J("formControlName",e)}}function st(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"div",7)(2,"mat-label"),t._uU(3,"Technique"),t.qZA(),t._UZ(4,"input",46),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw().index,m=t.oxw();return t.KtG(m.removeTechniqueItem(a,i))}),t._UZ(6,"i",31),t.qZA()()()}2&o&&t.Q6J("formGroupName",s.index)}function at(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"mat-label"),t._uU(3,"Technique Group"),t.qZA(),t._UZ(4,"input",35),t.TgZ(5,"button",30),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeTechnique(i))}),t._UZ(6,"i",31),t.qZA()(),t.TgZ(7,"div",45),t.YNc(8,st,7,1,"div",33),t.TgZ(9,"button",18),t.NdJ("click",function(){const i=t.CHM(e).index,a=t.oxw();return t.KtG(a.addTechniqueItem(i))}),t._uU(10,"Add Technique"),t.qZA()()()}if(2&o){const e=s.index,r=t.oxw();t.Q6J("formGroupName",e),t.xp6(8),t.Q6J("ngForOf",r.techniqueItems(e).controls)}}const ct=[{path:"",component:P},{path:"new-class",component:S},{path:"class/:id",component:(()=>{class o{constructor(e,r,n){this.route=e,this.router=r,this.programService=n}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.programService.getProgramById(this.id).subscribe(e=>{this.program=e,console.log(this.program)})}captureScreen(){}deleteProgram(){this.dialog.open(z,{width:"300px"}).afterClosed().subscribe(r=>{r&&this.programService.deleteProgram(this.route.snapshot.params.id).subscribe(()=>{this.router.navigate(["/admin/dashboard/flow-classes"])})})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-class"]],decls:14,vars:2,consts:[[1,"admin-container"],[1,"admin-top-menu"],[1,"admin-top-menu-logo"],[1,"admin-top-menu-buttons"],[3,"click"],["routerLink","/admin/dashboard/flow-classes",1,""],["class","",3,"routerLink",4,"ngIf"],[1,"red-button",3,"click"],["class","program-container","id","program-screen",4,"ngIf"],[1,"",3,"routerLink"],["id","program-screen",1,"program-container"],[1,"program-header"],[3,"innerHTML"],[1,"program-weeks"],[1,"week-list"],["class","week-container",4,"ngFor","ngForOf"],[1,"program-middle"],[1,"program-mainConcepts"],[1,"concepts-box"],[4,"ngFor","ngForOf"],[1,"program-mainPositions"],[1,"program-techniques"],[1,"techniques-groups-list"],["class","technique-group",4,"ngFor","ngForOf"],[1,"program-footer"],[1,"week-container"],[1,"week-name"],[1,"curriculum-list"],[1,"moves-name"],[1,"moves-list"],["class","moves-items",4,"ngFor","ngForOf"],[1,"moves-items"],[1,"technique-group"],[1,"group-name"],[1,"techniques-list"],["class","tech-box",4,"ngFor","ngForOf"],[1,"tech-box"]],template:function(r,n){1&r&&(t.TgZ(0,"section",0)(1,"section",1)(2,"div",2)(3,"h2"),t._uU(4,"Flow305 Class"),t.qZA()(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.captureScreen()}),t._uU(7,"Download"),t.qZA(),t.TgZ(8,"button",5),t._uU(9,"All "),t.qZA(),t.YNc(10,K,2,3,"button",6),t.TgZ(11,"button",7),t.NdJ("click",function(){return n.deleteProgram()}),t._uU(12,"delete "),t.qZA()()(),t.YNc(13,V,27,7,"div",8),t.qZA()),2&r&&(t.xp6(10),t.Q6J("ngIf",n.program),t.xp6(3),t.Q6J("ngIf",n.program))},dependencies:[d.sg,d.O5,l.rH],styles:[".program-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#b3b3b3;color:#000;overflow:hidden;display:flex;flex-direction:column;box-sizing:border-box;padding:0 40px 40px;list-style:none}.program-header[_ngcontent-%COMP%]{text-transform:uppercase;display:flex;flex-direction:column;align-items:center}.program-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:90%;margin:30px 0 5px;padding:10px 30px;background-color:#000;color:#fff}.program-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:85%;margin:30px 0;padding:0 0 0 10px;text-transform:lowercase;font-size:16px}ul[_ngcontent-%COMP%]{margin:0;padding:0}.week-list[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}li[_ngcontent-%COMP%]{list-style:none}.week-container[_ngcontent-%COMP%]{width:20%;margin:30px 15px;background-color:#f5f5f5}.week-name[_ngcontent-%COMP%]{background-color:#000;color:#fff;text-align:center;padding:20px 0;font-weight:600;text-transform:uppercase;letter-spacing:1px}.curriculum-list[_ngcontent-%COMP%]{padding:20px!important;box-sizing:border-box}.moves-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;text-transform:capitalize;background-color:#dadada;margin:15px 0;box-sizing:border-box;padding:5px}.moves-items[_ngcontent-%COMP%]{font-style:italic}.moves-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}.program-middle[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.program-mainConcepts[_ngcontent-%COMP%], .program-mainPositions[_ngcontent-%COMP%], .program-techniques[_ngcontent-%COMP%]{width:1000px;border-bottom:solid 2px #e4e2e2;box-sizing:border-box;padding-bottom:30px;margin-bottom:30px}.program-mainConcepts[_ngcontent-%COMP%]{width:1000px!important}.program-mainConcepts[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .program-mainPositions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .program-techniques[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{background-color:#000;color:#fff;box-sizing:border-box;padding:10px 30px}.concepts-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.concepts-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 10px;font-size:18px;font-style:italic}.technique-group[_ngcontent-%COMP%]{background-color:#f5f5f5;margin-bottom:10px;box-sizing:border-box;padding:20px}.group-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;text-transform:capitalize;background-color:#dadada;margin:15px 0;box-sizing:border-box;padding:5px}.techniques-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.tech-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 10px;font-style:italic}.top-menu[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;top:40px;right:130px}.program-footer[_ngcontent-%COMP%]{width:100%;background-color:#bebebe;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;padding:0 40px}.program-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin-top:20px;text-align:center;font-size:16px}"]})}return o})()},{path:"up-class/:id",component:(()=>{class o{constructor(e,r,n,i){this.formBuilder=e,this.programService=r,this.router=n,this.route=i,this.programForm=this.formBuilder.group({programName:["",c.kI.required],description:["",c.kI.required],weeks:this.formBuilder.array([]),mainConcepts:this.formBuilder.array([]),mainPositions:this.formBuilder.array([]),techniques:this.formBuilder.array([]),user:["",c.kI.required]})}ngOnInit(){const e=this.route.snapshot.params.id;e&&this.programService.getProgramById(e).subscribe(r=>this.updateProgramForm(r),r=>console.error("Error fetching program data",r))}updateProgramForm(e){this.programForm.patchValue({programName:e.programName,description:e.description,user:e.user});const r=this.programForm.get("weeks");e.weeks.forEach(m=>{const p=this.formBuilder.group({weekName:[m.weekName,c.kI.required],curriculum:this.formBuilder.array(m.curriculum.map(C=>this.createCurriculumFormGroup(C)))});r.push(p)});const n=this.programForm.get("mainConcepts");e.mainConcepts.forEach(m=>{n.push(this.formBuilder.control(m))});const i=this.programForm.get("mainPositions");e.mainPositions.forEach(m=>{i.push(this.formBuilder.control(m))});const a=this.programForm.get("techniques");e.techniques.forEach(m=>{const p=this.formBuilder.group({groupName:[m.groupName,c.kI.required],techniques:this.formBuilder.array(m.techniques.map(C=>this.createTechniqueFormGroup(C)))});a.push(p)})}createCurriculumFormGroup(e){return this.formBuilder.group({groupName:[e.groupName,c.kI.required],drills:this.formBuilder.array(e.drills.map(r=>this.createDrillFormGroup(r)))})}createDrillFormGroup(e){return this.formBuilder.group({drill:[e.drill,c.kI.required]})}createTechniqueFormGroup(e){return this.formBuilder.group({technique:[e.technique,c.kI.required]})}onSubmit(){this.programService.updateProgram(this.route.snapshot.params.id,this.programForm.value).subscribe(()=>{this.router.navigate(["/admin/dashboard/school/programs"])},r=>{console.error("Error updating program:",r)})}getback(){this.router.navigate(["/admin/dashboard/flow-classes/class/"+this.route.snapshot.params.id])}get weeks(){return this.programForm.get("weeks")}addWeek(e){const r=this.formBuilder.group({weekName:[e?.weekName||null],curriculum:this.formBuilder.array([])});this.weeks.push(r)}removeWeek(e){this.weeks.removeAt(e)}curriculum(e){return this.weeks.at(e).get("curriculum")}addCurriculum(e,r){const n=this.formBuilder.group({groupName:[r?.groupName||null],drills:this.formBuilder.array([])});this.curriculum(e).push(n)}removeCurriculum(e,r){this.curriculum(e).removeAt(r)}drills(e,r){return this.curriculum(e).at(r).get("drills")}addDrill(e,r,n){const i=this.formBuilder.group({drill:[n?.drill||null]});this.drills(e,r).push(i)}removeDrill(e,r,n){this.drills(e,r).removeAt(n)}get mainConcepts(){return this.programForm.get("mainConcepts")}addMainConcept(e){const r=this.formBuilder.control(e||null);this.mainConcepts.push(r)}removeMainConcept(e){this.mainConcepts.removeAt(e)}get mainPositions(){return this.programForm.get("mainPositions")}addMainPosition(e){const r=this.formBuilder.control(e||null);this.mainPositions.push(r)}removeMainPosition(e){this.mainPositions.removeAt(e)}get techniques(){return this.programForm.get("techniques")}addTechnique(e){const r=this.formBuilder.group({groupName:[e?.groupName||""],techniques:this.formBuilder.array([])});this.techniques.push(r)}removeTechnique(e){this.techniques.removeAt(e)}techniqueItems(e){return this.techniques.at(e).get("techniques")}addTechniqueItem(e,r){const n=this.formBuilder.group({technique:[r?.technique||""]});this.techniqueItems(e).push(n)}removeTechniqueItem(e,r){this.techniqueItems(e).removeAt(r)}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(c.qu),t.Y36(g),t.Y36(l.F0),t.Y36(l.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-update-class"]],decls:50,vars:5,consts:[[1,"admin-container"],[1,"admin-top-menu"],[1,"admin-top-menu-logo"],[1,"admin-top-menu-buttons"],[3,"click"],[1,"new-p-form",3,"formGroup","ngSubmit"],[1,"top-form"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","programName","matInput","",1,"form-control"],["for","description"],["id","description","formControlName","description","required","","matInput","",1,"form-control"],["for","user"],["type","text","id","user","formControlName","user","required","","matInput","",1,"form-control"],[1,"middle-form"],["formArrayName","weeks",1,"main-array"],[1,"items-group-v"],["class","items",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["formArrayName","mainConcepts",1,"second-array"],[1,"items","center-group"],["class","second-array-group",4,"ngFor","ngForOf"],["type","button",1,"add-button",3,"click"],["formArrayName","mainPositions",1,"second-array"],["formArrayName","techniques",1,"main-array"],[1,"bottom-form"],["type","submit"],[1,"items",3,"formGroupName"],[1,"form-group","specific-size"],["matInput","","formControlName","weekName"],["type","button",1,"button-remove",3,"click"],[1,"fa-solid","fa-xmark"],["formArrayName","curriculum",1,"second-array"],["class","second-array-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"second-array-group",3,"formGroupName"],["matInput","","formControlName","groupName"],["formArrayName","drills",1,"third-array"],["class","third-array-group",3,"formGroupName",4,"ngFor","ngForOf"],[1,"third-array-group",3,"formGroupName"],["matInput","","formControlName","drill"],[1,"second-array-group"],[1,"form-group","specific-size2"],[3,"for"],["type","text","required","",1,"form-control",3,"id","formControlName"],[1,"button-remove",3,"click"],["formArrayName","techniques",1,"second-array"],["matInput","","formControlName","technique"]],template:function(r,n){1&r&&(t.TgZ(0,"section",0)(1,"section",1)(2,"div",2)(3,"h2"),t._uU(4,"Training program update"),t.qZA()(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.getback()}),t._uU(7,"Back"),t.qZA()()(),t.TgZ(8,"form",5),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(9,"section",6)(10,"mat-form-field",7)(11,"mat-label",8),t._uU(12,"Name:"),t.qZA(),t._UZ(13,"input",9),t.qZA(),t.TgZ(14,"mat-form-field",7)(15,"mat-label",10),t._uU(16,"Description"),t.qZA(),t._UZ(17,"textarea",11),t.qZA(),t.TgZ(18,"mat-form-field",7)(19,"mat-label",12),t._uU(20,"Creator:"),t.qZA(),t._UZ(21,"input",13),t.qZA()(),t.TgZ(22,"section",14)(23,"div")(24,"div",15)(25,"div",16),t.YNc(26,rt,12,2,"div",17),t.qZA(),t.TgZ(27,"button",18),t.NdJ("click",function(){return n.addWeek()}),t._uU(28,"Add Week"),t.qZA()()(),t.TgZ(29,"div")(30,"div",19)(31,"div",20),t.YNc(32,nt,7,4,"div",21),t.qZA(),t.TgZ(33,"button",22),t.NdJ("click",function(){return n.addMainConcept()}),t._uU(34,"Add Main Concept"),t.qZA()()(),t.TgZ(35,"div")(36,"div",23)(37,"div",20),t.YNc(38,it,7,4,"div",21),t.qZA(),t.TgZ(39,"button",22),t.NdJ("click",function(){return n.addMainPosition()}),t._uU(40,"Add Main Position"),t.qZA()()(),t.TgZ(41,"div")(42,"div",24)(43,"div",16),t.YNc(44,at,11,2,"div",17),t.qZA(),t.TgZ(45,"button",18),t.NdJ("click",function(){return n.addTechnique()}),t._uU(46,"Add Technique Group"),t.qZA()()()(),t.TgZ(47,"section",25)(48,"button",26),t._uU(49,"Save Changes"),t.qZA()()()()),2&r&&(t.xp6(8),t.Q6J("formGroup",n.programForm),t.xp6(18),t.Q6J("ngForOf",n.weeks.controls),t.xp6(6),t.Q6J("ngForOf",n.mainConcepts.controls),t.xp6(6),t.Q6J("ngForOf",n.mainPositions.controls),t.xp6(6),t.Q6J("ngForOf",n.techniques.controls))},dependencies:[d.sg,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,c.x0,c.CE,h.Nt,_.KE,_.hX]})}return o})()}];let mt=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(ct),l.Bz]})}return o})();var ut=u(682);let lt=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[d.ez,mt,l.Bz,c.UX,c.u5,x.JX,h.c,_.lN,Z.LD,q.p9,T.Fk,ut.G]})}return o})()}}]);